from django.forms import ModelForm, Textarea, TextInput

from entertainment_db.models import Assessment, StatusUserContent, PlatformContent


class AssessmentForm(ModelForm):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        for form in self.visible_fields():
            form.field.widget.attrs['class'] = 'form-control'
            form.field.widget.attrs['autocomplete'] = 'off'

    class Meta:
        model = Assessment
        fields = '__all__'
        exclude = ['user', 'content']
        widgets = {
            'review': Textarea(
                attrs={
                    'itemprop': 'review'
                },
            )}


class StatusUserContentForm(ModelForm):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        for form in self.visible_fields():
            form.field.widget.attrs['class'] = 'form-control'
            form.field.widget.attrs['autocomplete'] = 'off'

    class Meta:
        model = StatusUserContent
        fields = '__all__'
        exclude = ['user', 'content']


class PlatformContentForm(ModelForm):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        for form in self.visible_fields():
            form.field.widget.attrs['class'] = 'form-control'
            form.field.widget.attrs['autocomplete'] = 'off'

    class Meta:
        model = PlatformContent
        fields = '__all__'
